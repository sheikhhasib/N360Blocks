(()=>{"use strict";var e,t={455:()=>{const e=window.wp.blocks,t=window.React,o=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,a=({data:e,setAttributes:o})=>{const l=e=>e?e.includes("youtube.com")||e.includes("youtu.be")?"youtube":e.includes("vimeo.com")?"vimeo":e.includes("cdn.jwplayer.com")?"jwplayer":null:null,[n,a]=(0,t.useState)("");return l(e.video_url),(0,t.useEffect)((()=>{if(!e.video_url)return;const t=l(e.video_url);if(o({video_provider:t}),"youtube"===t){const t=e.video_url.split("v=")[1]?.split("&")[0]||e.video_url.split("youtu.be/")[1]?.split("?")[0],o=`https://i.ytimg.com/vi/${t}/maxresdefault.jpg`,l=`https://i.ytimg.com/vi/${t}/hqdefault.jpg`;fetch(o).then((e=>{e.ok?a(o):a(l)})).catch((()=>{a(l)}))}else{const o=((e,t)=>{if(!e||!t)return"";if("youtube"===t)return`https://i.ytimg.com/vi/${e.split("v=")[1]?.split("&")[0]||e.split("youtu.be/")[1]?.split("?")[0]}/maxresdefault.jpg`;if("vimeo"===t){const t=e.split("vimeo.com/")[1]?.split("/")[0];return`https://vumbnail.com/${t}_large.jpg`}if("jwplayer"===t){const t=e.match(/\/players\/([a-zA-Z0-9]+)-/),o=t?.[1];return o?`https://cdn.jwplayer.com/thumbs/${o}-720.jpg`:""}return""})(e.video_url,t);a(o)}}),[e.video_url]),(0,t.createElement)("div",{className:"N360Blocks__video"},n?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("img",{className:`N360Blocks__thumbnail ${e.ratio||""}`,src:n,alt:"Video Thumbnail"}),(0,t.createElement)("div",{className:"N360Blocks__controls"},(0,t.createElement)("div",{className:"N360Blocks__controls-group"},(0,t.createElement)("button",{type:"button",className:"N360Blocks__controls-btn"},(0,t.createElement)("span",{className:"dashicons dashicons-controls-back"})),(0,t.createElement)("button",{type:"button",className:"N360Blocks__controls-btn N360Blocks__controls-btn--play"},(0,t.createElement)("span",{className:"dashicons dashicons-controls-play"})),(0,t.createElement)("button",{type:"button",className:"N360Blocks__controls-btn"},(0,t.createElement)("span",{className:"dashicons dashicons-controls-forward"}))),(0,t.createElement)("div",{className:"N360Blocks__progress"},(0,t.createElement)("input",{type:"range",className:"N360Blocks__progress-bar",defaultValue:0,min:"0",max:"100",step:"0.1"})),(0,t.createElement)("div",{className:"N360Blocks__volume"},(0,t.createElement)("button",{type:"button",className:"N360Blocks__controls-btn"},(0,t.createElement)("span",{className:"dashicons dashicons-controls-volumeon"})),(0,t.createElement)("input",{type:"range",className:"N360Blocks__volume-slider",defaultValue:80,min:"0",max:"100",step:"1"})))):(0,t.createElement)("div",{className:"N360Blocks__error"},"Unsupported video URL"))},r=({label:e,options:o,selected:l,updateOption:a,name:r})=>(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.__experimentalToggleGroupControl,{label:e,value:l,isBlock:!0,onChange:e=>{a(r?{[r]:e}:e)}},Object.entries(o).map((([e,o])=>(0,t.createElement)(n.__experimentalToggleGroupControlOption,{value:e,label:o,key:e})))));(0,e.registerBlockType)("vp/video",{edit:function({attributes:e,setAttributes:s,clientId:c}){const{video_provider:i,video_url:u,autoplay:m,loop:p,controls:d,ratio:_,block_id:v,lazy_load_video:b}=e,g=(0,l.useBlockProps)();return v!==c&&s({block_id:c}),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,o.__)("N360Blocks Video","n360"),initialOpen:!0},(0,t.createElement)(n.TextControl,{label:(0,o.__)("Enter Video URL","n360"),value:u||"",placeholder:(0,o.__)("Paste video URL","n360"),onChange:e=>s({video_url:e})})),(0,t.createElement)(n.PanelBody,{title:(0,o.__)("Video Settings","n360"),initialOpen:!0},(0,t.createElement)(r,{label:(0,o.__)("Aspect Ratio","n360"),options:{"ratio-16-9":"16:9","ratio-4-3":"4:3","ratio-9-16":"9:16","ratio-3-4":"3:4","ratio-1-1":"1:1"},selected:_,name:"ratio",updateOption:s}),(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Lazy Load Video","n360"),checked:b,onChange:e=>s({lazy_load_video:e})}),(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Controls","n360"),checked:d,onChange:e=>s({controls:e})}),(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Autoplay Video","n360"),checked:m,onChange:e=>s({autoplay:e})}),(0,t.createElement)(n.ToggleControl,{label:(0,o.__)("Loop Video","n360"),checked:p,onChange:e=>s({loop:e})}))),(0,t.createElement)("section",{...g},(0,t.createElement)("div",{className:"w-video-block"},(0,t.createElement)(a,{data:e,setAttributes:s}))))},save:function(e){const o=l.useBlockProps.save();return(0,t.createElement)("section",{...o})}})}},o={};function l(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=(t,o,n,a)=>{if(!o){var r=1/0;for(u=0;u<e.length;u++){for(var[o,n,a]=e[u],s=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(l.O).every((e=>l.O[e](o[c])))?o.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,n,a]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={564:0,268:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[r,s,c]=o,i=0;if(r.some((t=>0!==e[t]))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(c)var u=c(l)}for(t&&t(o);i<r.length;i++)a=r[i],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},o=globalThis.webpackChunkvp_blocks=globalThis.webpackChunkvp_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=l.O(void 0,[268],(()=>l(455)));n=l.O(n)})();